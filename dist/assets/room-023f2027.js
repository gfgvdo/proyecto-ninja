import{c as x}from"./index-d377ea6d.js";const _={host:"aws.connect.psdb.cloud",username:"isyb5gmupy7elrqbuabs",password:"pscale_pw_586AdDcjidSodPuRBpfnnXzrueSDmzAq7fk5dZch125"},o=document.getElementById("divJ1"),n=document.getElementById("divJ2"),w=document.getElementById("jugador1"),f=document.getElementById("jugador2"),j=document.getElementById("juez1"),k=document.getElementById("nombre_juez1"),h=document.getElementById("juez2"),I=document.getElementById("nombre_juez2"),t=document.getElementById("btnSelectCamera");let u=new URLSearchParams(document.location.search),r=u.get("room_uuid"),a=u.get("stream_id");a==null&&g.setAttribute("disabled","disabled");console.log(a);const i=x(_);async function m(){return await i.execute("SELECT * FROM room where uuid_sala = ?",[r])}m().then(e=>{S(e.rows)});function S(e){w.src=e[0].playerlink_1,f.src=e[0].playerlink_2,j.src=e[0].juezlink_1,h.src=e[0].juezlink_2,k.innerText=e[0].juezname_1,I.innerText=e[0].juezname_2}setInterval(()=>{m().then(e=>{B(e.rows[0].camara_seleccionada),console.log(e),localStorage.setItem("rows",JSON.stringify(e.rows))})},5e3);let l=JSON.parse(localStorage.getItem("rows")),z=new URLSearchParams(new URL(l[0].playerlink_1).search),s=z.get("view"),E=new URLSearchParams(new URL(l[0].playerlink_2).search),c=E.get("view"),T=l[0].camara_seleccionada;function B(e){console.log(e),e!=null?s==e?(o.style.cssText="box-shadow: 0px 0px 50px 15px rgba(9, 235, 255, 0.912); background-color: rgb(21, 178, 89);",t.style.backgroundColor="rgb(21, 178, 89)",t.disabled=!0):c==e&&(n.style.cssText="box-shadow: 0px 0px 50px 15px rgba(9, 235, 255, 0.912); background-color: rgb(21, 178, 89);",t.style.backgroundColor="rgb(21, 178, 89)",t.disabled=!0):(o.style.cssText="",n.style.cssText="",t.style.backgroundColor="rgb(178, 27, 21)",t.disabled=!1)}t.addEventListener("click",g);function g(){T==null&&(a==s?(d(r,s),o.style.cssText="box-shadow: 0px 0px 50px 15px rgba(9, 235, 255, 0.912); background-color: rgb(21, 178, 89);",t.style.backgroundColor="rgb(21, 178, 89)",t.disabled=!0):a==c&&(d(r,c),n.style.cssText="box-shadow: 0px 0px 50px 15px rgba(9, 235, 255, 0.912); background-color: rgb(21, 178, 89);",t.style.backgroundColor="rgb(21, 178, 89)",t.disabled=!0))}async function d(e,b){const p="UPDATE room SET camara_seleccionada = :camera_id where uuid_sala = :sala",y={sala:e,camera_id:b};await i.execute(p,y)}
